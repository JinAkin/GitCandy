<?xml version="1.0" encoding="utf-8"?>
<Tables Version="9.0.6092.32246">
  <Table Name="User" Description="用户" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称。登录用户名" />
      <Column Name="Nickname" DataType="String" Description="显示名。昵称、中文名等" />
      <Column Name="Email" DataType="String" Description="邮件" />
      <Column Name="Password" DataType="String" Description="密码" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="IsAdmin" DataType="Boolean" Description="系统管理员" />
      <Column Name="RegisterTime" DataType="DateTime" Description="注册时间" />
      <Column Name="Logins" DataType="Int32" Description="登录" />
      <Column Name="LastLogin" DataType="DateTime" Description="最后登录" />
      <Column Name="LastLoginIP" DataType="String" Description="最后登录IP" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Name" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="Team" Description="团队"  DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称" />
      <Column Name="Remark" DataType="String" Description="备注" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Name" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="Repository" Description="仓库" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称。登录用户名" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="IsPrivate" DataType="Boolean" Description="私有" />
      <Column Name="AllowAnonymousRead" DataType="Boolean" Description="匿名读" />
      <Column Name="AllowAnonymousWrite" DataType="Boolean" Description="匿名写" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Name" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="UserTeam" Description="用户团队" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="UserID" DataType="Int32" Description="用户" />
      <Column Name="TeamID" DataType="Int32" Description="团队" />
      <Column Name="IsAdministrator" DataType="Boolean" Description="管理员" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="UserID,TeamID" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="UserRepository" Description="用户仓库" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="UserID" DataType="Int32" Description="用户" />
      <Column Name="RepositoryID" DataType="Int32" Description="仓库" />
      <Column Name="AllowRead" DataType="Boolean" Description="管理员" />
      <Column Name="AllowWrite" DataType="Boolean" Description="管理员" />
      <Column Name="IsOwner" DataType="Boolean" Description="管理员" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="UserID,RepositoryID" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="TeamRepository" Description="团队仓库" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="TeamID" DataType="Int32" Description="团队" />
      <Column Name="RepositoryID" DataType="Int32" Description="仓库" />
      <Column Name="AllowRead" DataType="Boolean" Description="管理员" />
      <Column Name="AllowWrite" DataType="Boolean" Description="管理员" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="TeamID,RepositoryID" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="AuthorizationLog" Description="认证日志" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="AuthCode" DataType="String" Master="True" Description="认证码" />
      <Column Name="UserID" DataType="Boolean" Description="用户" />
      <Column Name="IssueDate" DataType="DateTime" Description="发生时间" />
      <Column Name="Expires" DataType="DateTime" Description="过期时间" />
      <Column Name="IssueIp" DataType="String" Description="发生地址" />
      <Column Name="LastIp" DataType="String" Description="最后地址" />
      <Column Name="IsValid" DataType="Boolean" Description="有效" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="AuthCode" Unique="True" />
      <Index Columns="UserID" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="SshKey" Description="SSH密钥" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="UserID" DataType="Boolean" Description="用户" />
      <Column Name="KeyType" DataType="String" Description="密钥类型" />
      <Column Name="Fingerprint" DataType="String" Description="指纹" />
      <Column Name="PublicKey" DataType="String" Length="600" Description="公钥" />
      <Column Name="ImportData" DataType="DateTime" Description="导入数据" />
      <Column Name="LastUse" DataType="DateTime" Description="最后使用" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="UserID" Unique="True" />
    </Indexes>
  </Table>
  <Table Name="RouteRule" Description="路由规则" ConnName="Biz" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Name" DataType="String" Master="True" Description="名称" />
      <Column Name="Statistics" DataType="Int32" Description="统计次数" />
      <Column Name="BizID" DataType="Int32" Description="服务器ID" />
      <Column Name="Protocol" DataType="Int32" Description="协议" />
      <Column Name="Kind" DataType="Int32" Description="种类" />
      <Column Name="Value" DataType="String" Description="数据" />
      <Column Name="Kind2" DataType="Int32" Description="种类2" />
      <Column Name="Value2" DataType="String" Description="数据2" />
      <Column Name="Kind3" DataType="Int32" Description="种类3" />
      <Column Name="Value3" DataType="String" Description="数据3" />
      <Column Name="Priority" DataType="Int32" Description="优先级" />
      <Column Name="Fixed" DataType="Boolean" Description="固定跳转" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
      <Column Name="Remark" DataType="String" Length="200" Description="备注" />
    </Columns>
  </Table>
  <Table Name="OTARule" Description="OTA升级规则" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="Ver" DataType="String" Description="版本" />
      <Column Name="Type" DataType="String" Description="类型" />
      <Column Name="Weight" DataType="Int32" Description="权重" />
      <Column Name="UpTime" DataType="DateTime" Description="升级时间" />
      <Column Name="FirmwareID" DataType="Int32" Description="固件ID" />
      <Column Name="Enable" DataType="Boolean" Description="启用" />
      <Column Name="Description" DataType="String" Length="200" Description="备注" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="Ver" />
      <Index Columns="Type" />
    </Indexes>
  </Table>
  <Table Name="UpdataRecord" Description="升级记录" ConnName="Update" DbType="SqlServer">
    <Columns>
      <Column Name="ID" DataType="Int32" Identity="True" PrimaryKey="True" Description="编号" />
      <Column Name="OTARuleID" DataType="Int32" Description="升级规则ID" />
      <Column Name="UpUserID" DataType="Int32" Description="升级对象ID" />
      <Column Name="Staus" DataType="Int32" Description="升级状态,0无状态，1等待升级，2升级中，3升级完成，4升级失败" />
      <Column Name="CreateUserID" DataType="Int32" Description="创建者" />
      <Column Name="CreateTime" DataType="DateTime" Description="创建时间" />
      <Column Name="CreateIP" DataType="String" Description="创建地址" />
      <Column Name="UpdateUserID" DataType="Int32" Description="更新者" />
      <Column Name="UpdateTime" DataType="DateTime" Description="更新时间" />
      <Column Name="UpdateIP" DataType="String" Description="更新地址" />
    </Columns>
    <Indexes>
      <Index Columns="OTARuleID" />
      <Index Columns="UpUserID" />
    </Indexes>
  </Table>
</Tables>